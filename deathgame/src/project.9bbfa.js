window.__require=function e(o,t,i){function s(a,r){if(!t[a]){if(!o[a]){var c=a.split("/");if(c=c[c.length-1],!o[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(n)return n(c,!0);throw new Error("Cannot find module '"+a+"'")}a=c}var p=t[a]={exports:{}};o[a][0].call(p.exports,function(e){return s(o[a][1][e]||e)},p,p.exports,e,o,t,i)}return t[a].exports}for(var n="function"==typeof __require&&__require,a=0;a<i.length;a++)s(i[a]);return s}({ExamplesData:[function(e,o,t){"use strict";cc._RF.push(o,"800ceLMUz1O0a9jvxaBI+w/","ExamplesData");var i={gameID:218859,channel:"Matchvs",platform:"alpha",gameVersion:1,appKey:"da64ff2033f54c26bfa695b1245fd9f4#C",userName:"",maxNumber:2,userID:"",token:"",host:"",isPAAS:!1,reset:function(){i.gameID="",i.appKey="",i.userID="",i.token=""}};o.exports=i,cc._RF.pop()},{}],GameDefine:[function(e,o,t){"use strict";cc._RF.push(o,"e004d2npgFI86ahTv5tS+1g","GameDefine");var i=this&&this.__decorate||function(e,o,t,i){var s,n=arguments.length,a=n<3?o:null===i?i=Object.getOwnPropertyDescriptor(o,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,o,t,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(n<3?s(a):n>3?s(o,t,a):s(o,t))||a);return n>3&&a&&Object.defineProperty(o,t,a),a};Object.defineProperty(t,"__esModule",{value:!0});var s=cc._decorator,n=s.ccclass,a=(s.property,function(){function e(){}return e.GetRandNum=function(e,o){return e>=o?e:e+Math.floor(Math.random()*(o-e+1))},e.nMonsterMoveSpeed=150,e.nManMoveSpeed=100,e.nMyPoint=0,e.objOtherPoint=[],e.bIAmMonster=!1,e.nCatchedNum=0,e.nGameType=1,e=i([n],e)}());t.GameDefine=a,t.CrtEventType={MainPlayerCollisionWall:"MainPlayerCollisionWall",MainPlayerLoginSucc:"MainPlayerLoginSucc",MainPlayerLoginFail:"MainPlayerLoginFail",MainPlayerReLogin:"MainPlayerReLogin",MainPlayerSearchRoom:"MainPlayerSearchRoom",MainPlayerSearchRoomResponse:"MainPlayerSearchRoomResponse",MainPlayerJoinRoomResponse:"MainPlayerJoinRoomResponse",GamePlayerAllotOver:"GamePlayerAllotOver",GamePlayerUpdatePosition:"GamePlayerUpdatePosition",PlayerLeaveRoomNotify:"PlayerLeaveRoomNotify",PlayerCatchedNotify:"PlayerCatchedNotify",PlayerFixedNotify:"PlayerFixedNotify"},t.MsgType={msgPlayerMove:0,msgPlayerPoint:1,msgPlayerCatched:2,msgPlayerFixMachine:3},window.GameDefine=a,window.CrtEventType=t.CrtEventType,window.MsgType=t.MsgType,cc._RF.pop()},{}],MachineControl:[function(e,o,t){"use strict";cc._RF.push(o,"976cfc3EClH16hLUnmbh5UV","MachineControl"),window.MachineControl=cc.Class({extends:cc.Component,properties:{labelProgress:{type:cc.Label,default:null},nMachineID:0,nFixedProgress:0},start:function(){},SetMachineID:function(e){this.nMachineID=e},GetMachineID:function(){return this.nMachineID},SetProgress:function(e){this.nFixedProgress=e,this.labelProgress.string="\u7535\u673a\n\u8fdb\u5ea6"+this.nFixedProgress+"%"},GetProgress:function(){return this.nFixedProgress}}),cc._RF.pop()},{}],MapWallData:[function(e,o,t){"use strict";cc._RF.push(o,"cc604Lg7edDcKgU7jpkCOJz","MapWallData"),Object.defineProperty(t,"__esModule",{value:!0}),t.mapWallData=[{positionx:1817,positiony:-827,scalex:2.746246669923873,scaley:1.554140825558319},{positionx:1811,positiony:-832,scalex:2.123156477929491,scaley:.6304586372935657},{positionx:-800,positiony:-150,scalex:1.901221054196451,scaley:1.1039478660560444},{positionx:-1631,positiony:160,scalex:.7412321114222915,scaley:2.0464711468401378},{positionx:-308,positiony:-563,scalex:1.4718880992136407,scaley:2.734647800984788},{positionx:2267,positiony:1076,scalex:.7347144842785598,scaley:1.7723163987170287},{positionx:1858,positiony:235,scalex:1.0330432771159503,scaley:2.3903933256518792},{positionx:1387,positiony:-758,scalex:1.4892828918247643,scaley:1.1526523929946826},{positionx:-851,positiony:305,scalex:2.801529086350589,scaley:1.7666200969634893},{positionx:-2464,positiony:507,scalex:1.651089000193205,scaley:1.431468490339447},{positionx:704,positiony:825,scalex:1.474077005256098,scaley:.7369158482549821},{positionx:835,positiony:250,scalex:1.804698201729385,scaley:1.2938397844027296},{positionx:877,positiony:429,scalex:.7600100961821511,scaley:.5886907405545068},{positionx:-2437,positiony:362,scalex:1.871139932520895,scaley:.8716001064757934},{positionx:-1860,positiony:-294,scalex:.7289129317681582,scaley:1.5582116566696165},{positionx:1707,positiony:-267,scalex:1.9240733222555018,scaley:2.530049038282949},{positionx:1589,positiony:-634,scalex:.9240083022427804,scaley:.959768837378402},{positionx:1508,positiony:131,scalex:.82502990495971,scaley:1.1037084974881524},{positionx:-564,positiony:-340,scalex:1.0888104495766329,scaley:2.9738739741493765},{positionx:-1523,positiony:-876,scalex:1.1858293231188173,scaley:.5820950939701587},{positionx:671,positiony:799,scalex:2.1745656310617303,scaley:.9105148700302208},{positionx:174,positiony:1075,scalex:2.6551363623346886,scaley:1.1002980697545897},{positionx:557,positiony:-738,scalex:2.2190367330808165,scaley:2.7138262957747896},{positionx:-149,positiony:1075,scalex:2.539244875970512,scaley:2.679744538473163},{positionx:-2444,positiony:136,scalex:2.046226761113241,scaley:.6050669258901665},{positionx:2106,positiony:637,scalex:1.7620191754587355,scaley:1.2431590729198634},{positionx:1786,positiony:-446,scalex:2.07503641444145,scaley:.7683371053251637},{positionx:-2190,positiony:-714,scalex:2.062470686585982,scaley:1.2318231170531841},{positionx:728,positiony:593,scalex:1.9353089134234098,scaley:2.8023190419806556},{positionx:1848,positiony:-883,scalex:.5375488360691845,scaley:1.059351774038015},{positionx:-1257,positiony:-420,scalex:2.685461431897895,scaley:2.4392345221610947},{positionx:-208,positiony:274,scalex:2.3869734291462015,scaley:1.282373561648344},{positionx:-756,positiony:-626,scalex:1.957879824087807,scaley:2.6230332379865304},{positionx:2102,positiony:696,scalex:2.4471001331116176,scaley:2.3735458545047434},{positionx:-114,positiony:-711,scalex:.9747657461759769,scaley:1.6241607270685638},{positionx:264,positiony:184,scalex:2.6569290038244224,scaley:.8409258807743154},{positionx:-1379,positiony:-884,scalex:1.5240562074365918,scaley:2.8545291186929034},{positionx:1793,positiony:-867,scalex:.5440049134371151,scaley:1.7809776191039495},{positionx:-1950,positiony:-769,scalex:.6159963688765725,scaley:1.2402516690172112},{positionx:-516,positiony:-899,scalex:1.9118760324703172,scaley:1.1754875062339534},{positionx:-416,positiony:655,scalex:.9113243583766413,scaley:1.674037633442106},{positionx:1443,positiony:-827,scalex:1.285345954749318,scaley:1.3778088704450289},{positionx:-806,positiony:903,scalex:1.474453041729924,scaley:1.327634286994972},{positionx:525,positiony:-897,scalex:1.7874162864906276,scaley:1.6171581804354584},{positionx:2e3,positiony:-114,scalex:2.0591862916089587,scaley:1.9918584988382333},{positionx:1492,positiony:-178,scalex:2.766370441591616,scaley:1.0548667136484857},{positionx:-665,positiony:-821,scalex:1.3666769196213597,scaley:1.8650315941850488},{positionx:-2288,positiony:248,scalex:1.5589930377383538,scaley:1.2066764662284375},{positionx:-1899,positiony:501,scalex:2.1359743617797013,scaley:2.8979854297968695},{positionx:326,positiony:-473,scalex:2.300642429574167,scaley:.5244647164659578},{positionx:-483,positiony:899,scalex:1.4366270612340162,scaley:.9941253952952501},{positionx:724,positiony:-721,scalex:2.991088035847202,scaley:.8442168040758714},{positionx:-2136,positiony:1083,scalex:1.757238501475833,scaley:.707422197534553},{positionx:1174,positiony:-703,scalex:.9580443073026186,scaley:1.2297603243111643},{positionx:1462,positiony:561,scalex:2.501622540310545,scaley:.5203160815321063},{positionx:1704,positiony:148,scalex:1.3130359786189483,scaley:.9181757456808749},{positionx:180,positiony:276,scalex:2.484193883120293,scaley:1.465090171229122},{positionx:646,positiony:1030,scalex:2.6151013908998433,scaley:.6735508866904151},{positionx:-2209,positiony:-1041,scalex:2.2804973312902064,scaley:.5934570082268771},{positionx:-2253,positiony:-532,scalex:1.30798152058993,scaley:2.7123482723851087},{positionx:-276,positiony:797,scalex:2.6279399064789866,scaley:2.995999321644323},{positionx:556,positiony:-147,scalex:1.153749311827987,scaley:.5562483717409334},{positionx:-2230,positiony:-894,scalex:1.1364412377263067,scaley:1.8675549411439913},{positionx:810,positiony:-888,scalex:1.046613856972542,scaley:1.6980761355311909},{positionx:1216,positiony:170,scalex:2.9251642314112725,scaley:2.361014017975216},{positionx:-1854,positiony:-1081,scalex:1.7698712011629416,scaley:2.0629548378842517},{positionx:-1972,positiony:-261,scalex:1.1777293169516025,scaley:1.6118496402508145},{positionx:2409,positiony:-1162,scalex:.6475173052188122,scaley:2.1304921148772444},{positionx:321,positiony:491,scalex:1.3417518274546798,scaley:2.427584753274809},{positionx:-924,positiony:-730,scalex:1.083644315295175,scaley:.7271405219124606},{positionx:1070,positiony:-214,scalex:.6982178675290103,scaley:.5843520344421889},{positionx:-1373,positiony:468,scalex:2.642291761964933,scaley:1.409944837513534},{positionx:813,positiony:765,scalex:1.1866572033081004,scaley:.934951252627675},{positionx:102,positiony:841,scalex:.7553961504169744,scaley:.5522967507322769},{positionx:268,positiony:-262,scalex:.5302555909491509,scaley:.8217474463837355},{positionx:-1061,positiony:-1137,scalex:2.156846970663542,scaley:2.3868152589632174},{positionx:134,positiony:828,scalex:.7346057521060824,scaley:.5789743013131533},{positionx:-1508,positiony:-439,scalex:2.8981328569843434,scaley:2.503393892210055},{positionx:-1081,positiony:-454,scalex:1.4799565041676002,scaley:1.6931232571443222},{positionx:688,positiony:258,scalex:2.5772814529128447,scaley:.9637340837503651},{positionx:-849,positiony:-371,scalex:1.034408160413538,scaley:1.7110889177608086},{positionx:623,positiony:341,scalex:1.5847071798482621,scaley:1.8833836546659672},{positionx:788,positiony:-274,scalex:1.340248349713279,scaley:1.9402194782502153},{positionx:-1239,positiony:765,scalex:1.0181171420062642,scaley:2.986439079648214},{positionx:-2130,positiony:-1171,scalex:2.7006156860453063,scaley:.7740958314159192},{positionx:-726,positiony:1067,scalex:1.3501955821204703,scaley:1.4541749296225603},{positionx:645,positiony:-1078,scalex:.9033423575040718,scaley:1.3441234964970712},{positionx:-1808,positiony:405,scalex:1.556853500637032,scaley:.8675317423331159},{positionx:535,positiony:880,scalex:1.9080667012761987,scaley:2.2428240175235077},{positionx:-995,positiony:291,scalex:2.1237549363708044,scaley:1.7861337454907602},{positionx:2155,positiony:584,scalex:1.2073101685245091,scaley:2.760375043085065},{positionx:1155,positiony:-679,scalex:2.7676597217201158,scaley:.8787586016678196},{positionx:425,positiony:-856,scalex:1.7404962797227392,scaley:1.6322159043980506},{positionx:904,positiony:937,scalex:2.4247435134561064,scaley:1.8987796495137672},{positionx:2160,positiony:257,scalex:2.185785606378551,scaley:2.734852857909285},{positionx:-381,positiony:-1062,scalex:2.9837924870934347,scaley:2.00122148140093},{positionx:-1987,positiony:163,scalex:2.1536939543405396,scaley:1.1144034942611087},{positionx:-281,positiony:-791,scalex:1.135981591366781,scaley:1.1262112159846462},{positionx:2477,positiony:605,scalex:1.5062624063496384,scaley:2.6935413115575226},{positionx:257,positiony:178,scalex:1.4997211321606303,scaley:1.4011517941099012},{positionx:-2476,positiony:184,scalex:2.0433582810860798,scaley:1.9281188319747447},{positionx:1972,positiony:1095,scalex:1.2703516991092179,scaley:.9053421547012731},{positionx:-499,positiony:402,scalex:2.7496486210504663,scaley:2.744537073829113},{positionx:758,positiony:-301,scalex:1.968162070264063,scaley:1.517089078159354},{positionx:-1111,positiony:120,scalex:1.9225001194292468,scaley:1.5298727314301996},{positionx:1581,positiony:249,scalex:1.6267170973760343,scaley:1.1193416828865046},{positionx:1207,positiony:196,scalex:1.7017712953293698,scaley:1.1716679539131254},{positionx:1669,positiony:929,scalex:2.4297090032755166,scaley:2.9129846152061027},{positionx:-636,positiony:1179,scalex:.8929890815211939,scaley:1.293235456540633},{positionx:-452,positiony:-905,scalex:2.964432581105859,scaley:2.1385368314832944},{positionx:2207,positiony:-910,scalex:1.6289452360970382,scaley:1.4497186683055343},{positionx:-553,positiony:459,scalex:1.7099098142300475,scaley:2.290912892231008},{positionx:1877,positiony:235,scalex:.5598447015691472,scaley:1.119683154306273},{positionx:-688,positiony:1126,scalex:1.1546681837793245,scaley:1.4227436471277106},{positionx:-105,positiony:466,scalex:1.505308422205185,scaley:1.4014622996103816},{positionx:-2184,positiony:831,scalex:2.6049285298358327,scaley:2.7913258961854206},{positionx:1186,positiony:-764,scalex:1.553709082613833,scaley:2.9846627505138636},{positionx:172,positiony:434,scalex:1.0346274564149551,scaley:2.7364316857133186},{positionx:1983,positiony:-519,scalex:1.8754925527591806,scaley:.7842029479714986},{positionx:-2140,positiony:211,scalex:1.2329052127679592,scaley:2.8105070566091985},{positionx:-1711,positiony:-695,scalex:1.8082643135576628,scaley:1.5736861427593665},{positionx:-1207,positiony:-386,scalex:.6649883436180449,scaley:2.562309259887854},{positionx:-614,positiony:-278,scalex:1.657886521392929,scaley:2.5203554189936757},{positionx:-957,positiony:-454,scalex:1.5941801784871563,scaley:2.201268425330822},{positionx:-599,positiony:711,scalex:1.6988180321183899,scaley:2.33111639059929},{positionx:-2122,positiony:1128,scalex:2.741624908734519,scaley:2.5418252945758923},{positionx:2317,positiony:615,scalex:.5861693170785488,scaley:1.3358960188686049},{positionx:168,positiony:-466,scalex:1.3319609098629288,scaley:2.121366065794888},{positionx:1353,positiony:-380,scalex:.7400435633255094,scaley:2.520687872896737},{positionx:-829,positiony:-728,scalex:1.3727330697260056,scaley:.8092692659999996},{positionx:653,positiony:312,scalex:1.3412946276240174,scaley:.9488485619671589},{positionx:775,positiony:179,scalex:1.2153440987692117,scaley:1.6529447653620284},{positionx:1980,positiony:-873,scalex:.741725406894453,scaley:1.3794833348712476},{positionx:1277,positiony:-1097,scalex:1.6826216281078743,scaley:2.194093010600513},{positionx:169,positiony:1071,scalex:1.9781164911202844,scaley:.7753479700943029},{positionx:-2500,positiony:-885,scalex:1.3636741268654413,scaley:1.3580264984820856},{positionx:1930,positiony:-180,scalex:2.422172097006756,scaley:1.6927723350799135},{positionx:-778,positiony:-515,scalex:.9792327063139334,scaley:.8010965590347031},{positionx:-563,positiony:1188,scalex:.5689380180534077,scaley:1.0009614803161255},{positionx:-1619,positiony:1083,scalex:1.1085860356970447,scaley:.9762434934714482},{positionx:1488,positiony:-659,scalex:1.1266426175108397,scaley:2.9571402394658155},{positionx:-1832,positiony:1132,scalex:1.6883075944589065,scaley:2.0343919722911474},{positionx:295,positiony:-582,scalex:1.8527113994527706,scaley:2.046080211562588},{positionx:478,positiony:250,scalex:1.712870556314582,scaley:2.1529215312700574},{positionx:314,positiony:328,scalex:.9548475489976433,scaley:2.4566199995998312},{positionx:524,positiony:394,scalex:1.7582149216746397,scaley:2.2265336516997296},{positionx:-367,positiony:458,scalex:2.3896976444649476,scaley:2.498907250810849},{positionx:2424,positiony:540,scalex:.8755594463354517,scaley:.9956462015018293},{positionx:-2072,positiony:-844,scalex:1.2869021261340803,scaley:2.1930350239673357},{positionx:-1602,positiony:446,scalex:.9370938769270483,scaley:.9406588318417443},{positionx:-382,positiony:689,scalex:2.271353800419414,scaley:2.2327036864471257},{positionx:2445,positiony:109,scalex:.8177330901299724,scaley:2.1675749442596137},{positionx:1567,positiony:-580,scalex:1.4276732206734968,scaley:2.0427388263606994},{positionx:-1140,positiony:1117,scalex:.6316171137049565,scaley:1.0309619896991706},{positionx:-141,positiony:539,scalex:1.2818056849235462,scaley:1.1410293756426666},{positionx:-1163,positiony:-249,scalex:1.1458143554908742,scaley:1.039151747339509},{positionx:-1964,positiony:177,scalex:1.597633831641089,scaley:2.9920890081448714},{positionx:-933,positiony:131,scalex:1.9544621492052627,scaley:.8983155476557471},{positionx:2296,positiony:766,scalex:.9076379695352855,scaley:2.8608601207304165},{positionx:-1176,positiony:-1012,scalex:2.372152658664672,scaley:.5497578628600021},{positionx:1646,positiony:-835,scalex:1.1895016758354404,scaley:1.3202359667034682},{positionx:-1259,positiony:957,scalex:2.1000847452879485,scaley:1.4972331344424594},{positionx:848,positiony:634,scalex:1.3738834242367393,scaley:.5396477046016508},{positionx:-293,positiony:-566,scalex:1.9439185344665406,scaley:1.7628460874231977},{positionx:-1583,positiony:1183,scalex:2.0153647353237094,scaley:2.8449124641534476},{positionx:-1266,positiony:955,scalex:1.1609992976991168,scaley:1.8207027703807317},{positionx:1579,positiony:460,scalex:1.1934160446385,scaley:2.1443676856033584},{positionx:-320,positiony:302,scalex:2.4659900746652466,scaley:.6413111098787662},{positionx:135,positiony:336,scalex:1.52012017424661,scaley:1.9486254378691705},{positionx:1973,positiony:161,scalex:2.754935971910592,scaley:2.6755595983217972},{positionx:457,positiony:-782,scalex:2.78176752388032,scaley:2.426189959121856},{positionx:2287,positiony:-507,scalex:2.573719027309941,scaley:2.262087989860542},{positionx:705,positiony:444,scalex:2.9187704229127243,scaley:1.3255639817729465},{positionx:-2255,positiony:-1151,scalex:.9801852174402915,scaley:.5487250655340177},{positionx:-1634,positiony:186,scalex:1.9862192138471797,scaley:1.3672894016077537},{positionx:-1001,positiony:1068,scalex:2.4868324582180934,scaley:2.1387869759220908},{positionx:-328,positiony:359,scalex:2.5553177909785076,scaley:1.9774089719745298},{positionx:-1306,positiony:-979,scalex:2.020703641011666,scaley:1.55091956414739},{positionx:1026,positiony:950,scalex:2.0921419704948248,scaley:.9641420880577535},{positionx:1901,positiony:-1197,scalex:.7381145876931284,scaley:2.3397330171569437},{positionx:-362,positiony:-1177,scalex:1.1549400613861756,scaley:1.139678835952655},{positionx:1604,positiony:-683,scalex:2.483605974954767,scaley:1.6362104215564655},{positionx:769,positiony:355,scalex:1.3937851631349685,scaley:2.5090288528554905},{positionx:180,positiony:-709,scalex:2.0684253325924464,scaley:2.604704458333125},{positionx:-1754,positiony:1090,scalex:2.181187597843834,scaley:2.72812465873772},{positionx:587,positiony:-543,scalex:.9269859050765162,scaley:1.956830492842206},{positionx:539,positiony:694,scalex:1.084862355030361,scaley:2.33177598930564},{positionx:156,positiony:-422,scalex:1.0686104097290001,scaley:1.440369008252473},{positionx:-215,positiony:530,scalex:.6448672307508858,scaley:1.8798857432463048},{positionx:1692,positiony:637,scalex:2.596984018387513,scaley:.9462969966585872},{positionx:-2425,positiony:333,scalex:2.724654335803998,scaley:1.6404196038555903},{positionx:140,positiony:-665,scalex:1.5860412766363403,scaley:1.3776700682805427},{positionx:-1881,positiony:-912,scalex:.711580121712705,scaley:2.5800345762768773},{positionx:1090,positiony:292,scalex:.5089598169770078,scaley:1.5282882939956957},{positionx:-1576,positiony:585,scalex:.6260070849421341,scaley:1.4057646783658468},{positionx:-1298,positiony:1125,scalex:2.4352355743249365,scaley:2.707381971941627},{positionx:-176,positiony:-381,scalex:.9236319792001281,scaley:2.7490667114601717},{positionx:-1213,positiony:904,scalex:1.0553342696659254,scaley:1.592615341010947},{positionx:-2268,positiony:-1079,scalex:1.43587081038495,scaley:1.6216885246832153},{positionx:-259,positiony:541,scalex:.955491214209327,scaley:2.190375574533066}],window.mapWallData=t.mapWallData,cc._RF.pop()},{}],MatchvsEngine:[function(e,o,t){"use strict";cc._RF.push(o,"89fadkhgIpMuJdiBkc9Bf/1","MatchvsEngine");var i=e("Matchvs"),s=e("ExamplesData");function n(){}n.prototype.init=function(e,o,t,s){var n=i.engine.init(i.response,e,o,t,s,1);return console.log("\u521d\u59cb\u5316result"+n),n},n.prototype.premiseInit=function(e,o,t){var s=i.engine.premiseInit(i.response,e,o,t);return console.log("\u72ec\u7acb\u90e8\u7f72\u521d\u59cb\u5316result"+s),s},n.prototype.registerUser=function(){var e=i.engine.registerUser();return console.log("\u6ce8\u518cresult"+e),e},n.prototype.login=function(e,o){var t=i.engine.login(e,o,"matchvs");return console.log("\u767b\u5f55result"+t),t},n.prototype.joinRandomRoom=function(e){var o=i.engine.joinRandomRoom(e,s.userName+"\u8fdb\u5165\u4e86\u623f\u95f4");return console.log("\u968f\u673a\u5339\u914dresult"+o),o},n.prototype.createRoom=function(e,o,t){var s=i.engine.createRoom(e,o,t);return console.log("\u521b\u5efa\u6307\u5b9a\u623f\u95f4result"+s),s},n.prototype.joinOver=function(){var e=i.engine.joinOver("\u5173\u95ed\u623f\u95f4");return console.log("joinOver result"+e),e},n.prototype.sendEvent=function(e){return i.engine.sendEvent(e).result},n.prototype.leaveRoom=function(){return i.engine.leaveRoom("\u79bb\u5f00\u623f\u95f4")},n.prototype.logout=function(){return i.engine.logout("\u6ce8\u9500")},n.prototype.unInit=function(){return i.engine.uninit()},o.exports=n,cc._RF.pop()},{ExamplesData:"ExamplesData",Matchvs:"Matchvs"}],MatchvsResponse:[function(e,o,t){"use strict";cc._RF.push(o,"8e425jwbR5FoJOtQuKtyyVv","MatchvsResponse");var i=e("Matchvs"),s=e("MatvhsvsMessage");function n(){}n.prototype.init=function(e){this.context=e},n.prototype.bind=function(){i.response.initResponse=this.initResponse.bind(this),i.response.registerUserResponse=this.registerUserResponse.bind(this),i.response.loginResponse=this.loginResponse.bind(this),i.response.errorResponse=this.errorResponse.bind(this),i.response.joinRoomResponse=this.joinRoomResponse.bind(this),i.response.joinRoomNotify=this.joinRoomNotify.bind(this),i.response.leaveRoomResponse=this.leaveRoomResponse.bind(this),i.response.leaveRoomNotify=this.leaveRoomNotify.bind(this),i.response.joinOverResponse=this.joinOverResponse.bind(this),i.response.joinOverNotify=this.joinOverNotify.bind(this),i.response.sendEventResponse=this.sendEventResponse.bind(this),i.response.sendEventNotify=this.sendEventNotify.bind(this)},n.prototype.initResponse=function(e){this.context.node.emit(s.MATCHVS_INIT,e)},n.prototype.registerUserResponse=function(e){console.log(JSON.stringify(e)),this.context.node.emit(s.MATCHVS_REGISTER_USER,e)},n.prototype.loginResponse=function(e){this.context.node.emit(s.MATCHVS_LOGIN,e)},n.prototype.joinRoomResponse=function(e,o,t){this.context.node.emit(s.MATCHVS_JOIN_ROOM_RSP,e,o,t)},n.prototype.joinRoomNotify=function(e){console.log(e.userID+"\u52a0\u5165\u4e86\u623f\u95f4"),this.context.node.emit(s.MATCHVS_JOIN_ROOM_NOTIFY,e)},n.prototype.joinOverResponse=function(e){this.context.node.emit(s.MATCHVS_JOIN_OVER_RSP,e)},n.prototype.joinOverNotify=function(e){this.context.node.emit(s.MATCHVS_JOIN_OVER_NOTIFY,e)},n.prototype.sendEventResponse=function(e){this.context.node.emit(s.MATCHVS_SEND_EVENT_RSP,e)},n.prototype.sendEventNotify=function(e){this.context.node.emit(s.MATCHVS_SEND_EVENT_NOTIFY,e)},n.prototype.leaveRoomResponse=function(e){this.context.node.emit(s.MATCHVS_LEAVE_ROOM,e)},n.prototype.leaveRoomNotify=function(e){this.context.node.emit(s.MATCHVS_LEAVE_ROOM_NOTIFY,e)},n.prototype.errorResponse=function(e,o){console.log("\u53d1\u751f\u9519\u8bef\u4e86\uff01\uff01\uff01"),this.context.node.emit(s.MATCHVS_ERROE_MSG,e,o)},o.exports=n,cc._RF.pop()},{Matchvs:"Matchvs",MatvhsvsMessage:"MatvhsvsMessage"}],Matchvs:[function(e,o,t){"use strict";var i,s,n,a,r,c;cc._RF.push(o,"291dcg59S1I6pIaIgcwIsRj","Matchvs");try{i=new window.MatchvsEngine,s=new window.MatchvsResponse,n=window.MsMatchInfo,a=window.MsCreateRoomInfo,r=window.MsRoomFilterEx,c=window.LocalStore_Clear,console.log(void 0),"undefined"==typeof BK&&"undefined"==typeof FBInstant||(MVS.SetWss&&MVS.SetWss(!0),console.log("use wss")),console.log("load matchvs.all.js success")}catch(e){console.error("try load matchvs JS fail,"+e.message)}o.exports={engine:i,response:s,MsMatchInfo:n,MsCreateRoomInfo:a,MsRoomFilterEx:r,LocalStore_Clear:c},cc._RF.pop()},{}],MatvhsvsMessage:[function(e,o,t){"use strict";cc._RF.push(o,"df906xb+KNIkoyn9TU1f4yA","MatvhsvsMessage");o.exports={MATCHVS_INIT:"MATCHVS_INIT",MATCHVS_REGISTER_USER:"MATCHVS_REGISTER_USER",MATCHVS_LOGIN:"MATCHVS_LOGIN",MATCHVS_RE_CONNECT:"MATCHVS_RE_CONNECT",MATCHVS_ERROE_MSG:"MATCHVS_ERROE_MSG",MATCHVS_JOIN_ROOM_RSP:"MATCHVS_JOIN_ROOM_RSP",MATCHVS_JOIN_ROOM_NOTIFY:"MATCHVS_JOIN_ROOM_NOTIFY",MATCHVS_LEAVE_ROOM:"MATCHVS_LEAVE_ROOM",MATCHVS_LEAVE_ROOM_NOTIFY:"MATCHVS_LEAVE_ROOM_NOTIFY",MATCHVS_JOIN_OVER_RSP:"MATCHVS_JOIN_OVER_RSP",MATCHVS_JOIN_OVER_NOTIFY:"MATCHVS_JOIN_OVER_NOTIFY",MATCHVS_JOIN_OPEN_RSP:"MATCHVS_JOIN_OPEN_RSP",MATCHVS_JOIN_OPEN_NOTIFY:"MATCHVS_JOIN_OPEN_NOTIFY",MATCHVS_ROOM_LIST_EX:"MATCHVS_ROOM_LIST_EX",MATCHVS_CREATE_ROOM:"MATCHVS_CREATE_ROOM",MATCHVS_ROOM_DETAIL:"MATCHVS_ROOM_DETAIL",MATCHVS_KICK_PLAYER:"MATCHVS_KICK_PLAYER",MATCHVS_KICK_PLAYER_NOTIFY:"MATCHVS_KICK_PLAYER_NOTIFY",MATCHVS_SET_ROOM_PROPETY:"MATCHVS_SET_ROOM_PROPETY",MATCHVS_SET_ROOM_PROPETY_NOTIFY:"MATCHVS_SET_ROOM_PROPETY_NOTIFY",MATCHVS_SEND_EVENT_RSP:"MATCHVS_SEND_EVENT_RSP",MATCHVS_SEND_EVENT_NOTIFY:"MATCHVS_SEND_EVENT_NOTIFY",MATCHVS_FRAME_UPDATE:"MATCHVS_FRAME_UPDATE",MATCHVS_WX_BINDING:"MATCHVS_WX_BINDING",MATCHVS_NETWORK_STATE_NOTIFY:"MATCHVS_NETWORK_STATE_NOTIFY",MATCHVS_LOGOUT:"MATCHVS_LOGOUT"},cc._RF.pop()},{}],MultiControl:[function(e,o,t){"use strict";cc._RF.push(o,"0057bK93GlAsJUg+pURCFjs","MultiControl");var i=e("./1/MatchvsEngine"),s=e("./1/MatchvsResponse"),n=e("./1/MatvhsvsMessage"),a=e("./1/ExamplesData");cc.Class({extends:cc.Component,properties:{labelID:{type:cc.Label,default:null},labelGameLog:{type:cc.Label,default:null},labelGameTips:{type:cc.Label,default:null}},bLoginSuccess:!1,bRoomInitedOver:!1,onLoad:function(){this.bLoginSuccess=!1,this.bRoomInitedOver=!1},start:function(){this.initMatchvsEvent(this),this.ShowLabelLog("\u521d\u59cb\u5316\u6e38\u620f"),this.init()},ShowLabelLog:function(e){this.labelGameLog.string=e+""},ShowLabelTips:function(e){},HandleReLogin:function(){this.login()},HandleSearchRoom:function(){this.joinRandomRoom()},initMatchvsEvent:function(e){s.prototype.bind(),s.prototype.init(e),this.node.on(n.MATCHVS_INIT,this.initResponse,this),this.node.on(n.MATCHVS_REGISTER_USER,this.registerUserResponse,this),this.node.on(n.MATCHVS_LOGIN,this.loginResponse,this),this.node.on(n.MATCHVS_JOIN_ROOM_RSP,this.joinRoomResponse,this),this.node.on(n.MATCHVS_JOIN_ROOM_NOTIFY,this.joinRoomNotify,this),this.node.on(n.MATCHVS_JOIN_OVER_RSP,this.joinOverResponse,this),this.node.on(n.MATCHVS_JOIN_OVER_NOTIFY,this.joinOverNotify,this),this.node.on(n.MATCHVS_SEND_EVENT_RSP,this.sendEventResponse,this),this.node.on(n.MATCHVS_SEND_EVENT_NOTIFY,this.sendEventNotify,this),this.node.on(n.MATCHVS_LEAVE_ROOM,this.leaveRoomResponse,this),this.node.on(n.MATCHVS_LEAVE_ROOM_NOTIFY,this.leaveRoomNotify,this),this.node.on(n.MATCHVS_LOGOUT,this.logoutResponse,this),this.node.on(n.MATCHVS_ERROE_MSG,this.errorResponse,this),cc.systemEvent.on(CrtEventType.MainPlayerReLogin,this.HandleReLogin,this),cc.systemEvent.on(CrtEventType.MainPlayerSearchRoom,this.HandleSearchRoom,this)},removeEvent:function(){this.node.off(n.MATCHVS_INIT,this.initResponse,this),this.node.off(n.MATCHVS_REGISTER_USER,this.registerUserResponse,this),this.node.off(n.MATCHVS_LOGIN,this.loginResponse,this),this.node.off(n.MATCHVS_JOIN_ROOM_RSP,this.joinRoomResponse,this),this.node.off(n.MATCHVS_JOIN_ROOM_NOTIFY,this.joinRoomNotify,this),this.node.off(n.MATCHVS_JOIN_OVER_RSP,this.joinOverResponse,this),this.node.off(n.MATCHVS_JOIN_OVER_NOTIFY,this.joinOverNotify,this),this.node.off(n.MATCHVS_SEND_EVENT_RSP,this.sendEventResponse,this),this.node.off(n.MATCHVS_SEND_EVENT_NOTIFY,this.sendEventNotify,this),this.node.off(n.MATCHVS_LEAVE_ROOM,this.leaveRoomResponse,this),this.node.off(n.MATCHVS_LEAVE_ROOM_NOTIFY,this.leaveRoomNotify,this),this.node.off(n.MATCHVS_LOGOUT,this.logoutResponse,this),this.node.off(n.MATCHVS_ERROE_MSG,this.errorResponse,this),cc.systemEvent.off(CrtEventType.MainPlayerReLogin,this.HandleReLogin,this),cc.systemEvent.off(CrtEventType.MainPlayerSearchRoom,this.HandleSearchRoom,this)},init:function(){var e=i.prototype.init(a.channel,a.platform,a.gameID,a.appKey);this.engineCode(e,"init")},register:function(){var e=i.prototype.registerUser();this.engineCode(e,"registerUser")},login:function(){var e=i.prototype.login(a.userID,a.token);cc.log("\u767b\u5f55\u7684\u8d26\u53f7userID\u662f:",a.userID),-6==e?cc.log("\u5df2\u767b\u5f55\uff0c\u8bf7\u52ff\u91cd\u65b0\u767b\u5f55"):-26===e?(console.log("GameData:",a),cc.log("[\u6e38\u620f\u8d26\u6237\u4e0e\u6e20\u9053\u4e0d\u5339\u914d\uff0c\u8bf7\u4f7f\u7528cocos\u8d26\u53f7\u767b\u5f55Matchvs\u5b98\u7f51\u521b\u5efa\u6e38\u620f]\uff1a(https://www.matchvs.com/cocos)")):this.engineCode(e,"login")},joinRandomRoom:function(){if(this.bLoginSuccess){var e=i.prototype.joinRandomRoom(a.maxNumber);this.engineCode(e,"joinRandomRoom")}else cc.error("\u7b49\u5f85\u767b\u5f55\u56de\u5e94!!!!!!!!!!!!!\uff1a"),this.ShowLabelTips("\u7b49\u5f85\u767b\u5f55\u56de\u5e94!")},joinOver:function(){var e=i.prototype.joinOver();this.engineCode(e,"joinOver")},sendEvent:function(){this.bRoomInitedOver||(cc.error("\u7b49\u5f85\u5176\u4ed6\u73a9\u5bb6\u8fdb\u5165!!!!!!!!!!!!!\uff1a"),this.ShowLabelTips("\u7b49\u5f85\u5176\u4ed6\u73a9\u5bb6\u8fdb\u5165!"))},leaveRoom:function(){var e=i.prototype.leaveRoom();this.engineCode(e,"leaveRoom")},logout:function(){var e=i.prototype.logout();this.engineCode(e,"logout")},unInit:function(){var e=i.prototype.unInit();this.engineCode(e,"unInit")},initResponse:function(e){200==e?(cc.log("initResponse\uff1a\u521d\u59cb\u5316\u6210\u529f\uff0cstatus\uff1a"+e),this.ShowLabelLog("\u521d\u59cb\u5316\u6210\u529f"),this.register()):cc.log("initResponse\uff1a\u521d\u59cb\u5316\u5931\u8d25\uff0cstatus\uff1a"+e)},registerUserResponse:function(e){0==e.status?(cc.log("registerUserResponse_\u6ce8\u518c\u7528\u6237\u6210\u529f,id = "+e.id+"token = "+e.token+"name:"+e.name+"avatar:"+e.avatar),a.userID=e.id,a.token=e.token,a.userName=e.name,this.ShowLabelLog("\u6ce8\u518c\u7528\u6237\u6210\u529f"),this.labelID.node.active=!0,this.labelID.string="\u6211\u7684ID\u662f:"+e.id,this.login()):cc.error("registerUserResponse: \u6ce8\u518c\u7528\u6237\u5931\u8d25userInfo.status=="+e.status)},loginResponse:function(e){if(200==e.status)return this.bLoginSuccess=!0,this.ShowLabelLog("\u7528\u6237\u767b\u5f55\u6210\u529f"),void cc.systemEvent.emit(CrtEventType.MainPlayerLoginSucc,"\u767b\u5f55\u6210\u529f");402==e.status?cc.error("loginResponse: \u5e94\u7528\u6821\u9a8c\u5931\u8d25\uff0c\u786e\u8ba4\u662f\u5426\u5728\u672a\u4e0a\u7ebf\u65f6\u7528\u4e86release\u73af\u5883\uff0c\u5e76\u68c0\u67e5gameID\u3001appkey \u548c secret"):403==e.status?cc.error("loginResponse\uff1a\u68c0\u6d4b\u5230\u8be5\u8d26\u53f7\u5df2\u5728\u5176\u4ed6\u8bbe\u5907\u767b\u5f55"):404==e.status?cc.error("loginResponse\uff1a\u65e0\u6548\u7528\u6237 "):500==e.status&&cc.error("loginResponse\uff1a\u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef"),cc.systemEvent.emit(CrtEventType.MainPlayerLoginFail,"\u767b\u5f55\u5931\u8d25,\u8bf7\u91cd\u65b0\u767b\u5f55"+e.status)},joinRoomResponse:function(e,o,t){200==e?(this.ShowLabelLog("\u8fdb\u5165\u623f\u95f4,\u7b49\u5f85\u5176\u4ed6\u73a9\u5bb6"),cc.log("joinRoomResponse: \u8fdb\u5165\u623f\u95f4\u6210\u529f\uff1a\u623f\u95f4ID\u4e3a\uff1a"+t.roomID+"\u623f\u4e3bID\uff1a"+t.ownerId+"\u623f\u95f4\u5c5e\u6027\u4e3a\uff1a"+t.roomProperty),cc.log("joinRoomResponse: \u8fdb\u5165\u623f\u95f4\u6210\u529f\uff1auserInfoList"+JSON.stringify(o)),cc.systemEvent.emit(CrtEventType.MainPlayerSearchRoomResponse,{nMainRoomID:t.roomID,userInfoList:o})):cc.error("joinRoomResponse\uff1a\u8fdb\u5165\u623f\u95f4\u5931\u8d25status"+e)},joinRoomNotify:function(e){cc.log("joinRoomNotify\uff1a\u52a0\u5165\u623f\u95f4\u7684\u73a9\u5bb6ID\u662f"+e.userID),cc.systemEvent.emit(CrtEventType.MainPlayerJoinRoomResponse,{roomUserInfo:e})},joinOverResponse:function(e){200==e.status?cc.log("joinOverResponse: \u5173\u95ed\u623f\u95f4\u6210\u529f"):400==e.status?cc.error("joinOverResponse: \u5ba2\u6237\u7aef\u53c2\u6570\u9519\u8bef "):403==e.status?cc.error("joinOverResponse: \u8be5\u7528\u6237\u4e0d\u5728\u623f\u95f4 "):404==e.status?cc.error("joinOverResponse: \u7528\u6237\u6216\u623f\u95f4\u4e0d\u5b58\u5728"):500==e.status&&cc.error("joinOverResponse: \u670d\u52a1\u5668\u5185\u90e8\u9519\u8bef")},joinOverNotify:function(e){cc.log("joinOverNotify\uff1a\u7528\u6237"+e.srcUserID+"\u5173\u95ed\u4e86\u623f\u95f4\uff0c\u623f\u95f4ID\u4e3a\uff1a"+e.roomID)},sendEventResponse:function(e){200==e.status||cc.error("sendEventResponse\uff1a\u53d1\u9001\u6d88\u606f\u5931\u8d25sendEventRsp.status=="+e.status)},sendEventNotify:function(e){if(-1!==e.cpProto.indexOf("msgType"))switch(JSON.parse(e.cpProto).msgType){case MsgType.msgPlayerMove:cc.systemEvent.emit(CrtEventType.GamePlayerUpdatePosition,e.cpProto);break;case MsgType.msgPlayerPoint:var o=JSON.parse(e.cpProto),t=o.nMyUserID,i=o.nMyPoint;GameDefine.objOtherPoint.push([t,i]);var s=0,n=0;if(GameDefine.objOtherPoint.length===a.maxNumber-1){for(var r in GameDefine.bIAmMonster=!0,n=a.userID,GameDefine.objOtherPoint){if(GameDefine.objOtherPoint[r][1]>GameDefine.nMyPoint){GameDefine.bIAmMonster=!1;break}}if(!GameDefine.bIAmMonster)for(var c in GameDefine.objOtherPoint){var l=GameDefine.objOtherPoint[c];l[1]>s&&(s=l[1],n=l[0])}GameDefine.bIAmMonster?(this.ShowLabelLog("\u6355\u730e\u5f00\u59cb!"),this.labelGameTips.string="\u4f60\u662f\u730e\u4eba,\u8ffd\u8e2a\u730e\u7269!"):(this.ShowLabelLog("\u9003\u8131\u5f00\u59cb!"),this.labelGameTips.string="\u4f60\u662f\u730e\u7269,\u5feb\u8dd1!"),cc.systemEvent.emit(CrtEventType.GamePlayerAllotOver,n)}break;case MsgType.msgPlayerCatched:var p=JSON.parse(e.cpProto),y=p.catchedID,h=p.nCatchedNum;y==a.userID&&(this.labelGameTips.string="\u4f60\u5df2\u88ab\u6293\u4f4f",this.ShowLabelLog("\u4f60\u7684\u6e38\u620f\u7ed3\u675f")),cc.systemEvent.emit(CrtEventType.PlayerCatchedNotify,[y,h]);break;case MsgType.msgPlayerFixMachine:var f=JSON.parse(e.cpProto),u=f.nMachineID,d=f.nCurrentProgress;cc.systemEvent.emit(CrtEventType.PlayerFixedNotify,[u,d])}else cc.error("\u4ec0\u4e48\u60c5\u51b5???????????"+e.cpProto)},leaveRoomResponse:function(e){200==e.status?(cc.log("leaveRoomResponse\uff1a\u79bb\u5f00\u623f\u95f4\u6210\u529f\uff0c\u623f\u95f4ID\u662f"+e.roomID),this.ShowLabelLog("\u79bb\u5f00\u623f\u95f4,\u7b49\u5f85\u5339\u914d"),this.labelGameTips.string=""):400==e.status?cc.error("leaveRoomResponse\uff1a\u5ba2\u6237\u7aef\u53c2\u6570\u9519\u8bef,\u8bf7\u68c0\u67e5\u53c2\u6570"):404==e.status?cc.error("leaveRoomResponse\uff1a\u623f\u95f4\u4e0d\u5b58\u5728"):500==e.status&&cc.error("leaveRoomResponse\uff1a\u670d\u52a1\u5668\u9519\u8bef")},leaveRoomNotify:function(e){cc.log("leaveRoomNotify\uff1a"+e.userID+"\u79bb\u5f00\u623f\u95f4\uff0c\u623f\u95f4ID\u662f"+e.roomID),cc.systemEvent.emit(CrtEventType.PlayerLeaveRoomNotify,e.userID)},logoutResponse:function(e){this.ShowLabelLog("\u7528\u6237\u6ce8\u9500"),200==e?cc.log("logoutResponse\uff1a\u6ce8\u9500\u6210\u529f"):500==e?cc.error("logoutResponse\uff1a\u6ce8\u9500\u5931\u8d25\uff0c\u670d\u52a1\u5668\u9519\u8bef"):cc.error("logoutResponse\uff1a\u6ce8\u9500\u5931\u8d25status= "+e)},errorResponse:function(e,o){cc.error("errorMsg:"+o+"errorCode:"+e)},engineCode:function(e,o){switch(e){case 0:cc.log(o+"\u8c03\u7528\u6210\u529f");break;case-1:cc.error(o+"\u8c03\u7528\u5931\u8d25");break;case-2:cc.error("\u5c1a\u672a\u521d\u59cb\u5316\uff0c\u8bf7\u5148\u521d\u59cb\u5316\u518d\u8fdb\u884c"+o+"\u64cd\u4f5c");break;case-3:cc.error("\u6b63\u5728\u521d\u59cb\u5316\uff0c\u8bf7\u7a0d\u540e\u8fdb\u884c"+o+"\u64cd\u4f5c");break;case-4:cc.error("\u5c1a\u672a\u767b\u5f55\uff0c\u8bf7\u5148\u767b\u5f55\u518d\u8fdb\u884c"+o+"\u64cd\u4f5c");break;case-5:cc.error("\u5df2\u7ecf\u767b\u5f55\uff0c\u8bf7\u52ff\u91cd\u590d\u767b\u9646");break;case-6:cc.error("\u5c1a\u672a\u52a0\u5165\u623f\u95f4\uff0c\u8bf7\u7a0d\u540e\u8fdb\u884c"+o+"\u64cd\u4f5c");break;case-7:cc.error("\u6b63\u5728\u521b\u5efa\u6216\u8005\u8fdb\u5165\u623f\u95f4,\u8bf7\u7a0d\u540e\u8fdb\u884c"+o+"\u64cd\u4f5c");break;case-8:cc.error("\u5df2\u7ecf\u5728\u623f\u95f4\u4e2d");break;case-20:cc.error("maxPlayer\u8d85\u51fa\u8303\u56f4 0 < maxPlayer \u2264 20");break;case-21:cc.error("userProfile \u8fc7\u957f\uff0c\u4e0d\u80fd\u8d85\u8fc7512\u4e2a\u5b57\u7b26");break;case-25:cc.error(o+"channel \u975e\u6cd5\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u6b63\u786e\u586b\u5199\u4e3a \u201cMatchvs\u201d");break;case-26:cc.error(o+"\uff1aplatform \u975e\u6cd5\uff0c\u8bf7\u68c0\u67e5\u662f\u5426\u6b63\u786e\u586b\u5199\u4e3a \u201calpha\u201d \u6216 \u201crelease\u201d")}},onDestroy:function(){this.removeEvent()}}),cc._RF.pop()},{"./1/ExamplesData":"ExamplesData","./1/MatchvsEngine":"MatchvsEngine","./1/MatchvsResponse":"MatchvsResponse","./1/MatvhsvsMessage":"MatvhsvsMessage"}],ResourceUtils:[function(e,o,t){"use strict";cc._RF.push(o,"ad685IVhvVHx7YY/HwsyvFL","ResourceUtils");var i=this&&this.__extends||function(){var e=function(o,t){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var t in o)o.hasOwnProperty(t)&&(e[t]=o[t])})(o,t)};return function(o,t){function i(){this.constructor=o}e(o,t),o.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}}(),s=this&&this.__decorate||function(e,o,t,i){var s,n=arguments.length,a=n<3?o:null===i?i=Object.getOwnPropertyDescriptor(o,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,o,t,i);else for(var r=e.length-1;r>=0;r--)(s=e[r])&&(a=(n<3?s(a):n>3?s(o,t,a):s(o,t))||a);return n>3&&a&&Object.defineProperty(o,t,a),a};Object.defineProperty(t,"__esModule",{value:!0});var n=cc._decorator,a=n.ccclass,r=(n.property,function(e){function o(){var o=null!==e&&e.apply(this,arguments)||this;return o.mapPrefabResource=new Map,o}return i(o,e),o.prototype.LoadPrefab=function(e,o){var t=this;if(this.mapPrefabResource.has(e)){cc.log("LKX","LoadPrefab\u76f4\u63a5\u52a0\u8f7d==="+e);var i=this.mapPrefabResource.get(e);o(i)}else{var s="prefab/"+e;cc.loader.loadRes(s,cc.Prefab,function(i,s){i?cc.error("LKX, LoadPrefabErrrorrrrr==== "+i):(t.mapPrefabResource.set(e,s),o(s))})}},o.prototype.ReleasePrefab=function(e){var o="prefab/"+e;cc.loader.releaseRes(o),this.mapPrefabResource.delete(e)},o=s([a],o)}(cc.Component));t.ResourceUtils=r,window.ResourceUtils=r,cc._RF.pop()},{}],StartGame:[function(e,o,t){"use strict";cc._RF.push(o,"19879rRf4pGgq4UT54qoh5n","StartGame");var i=e("./GameUtils/GameDefine");function s(e,o){if(!(e instanceof o))throw new TypeError("Cannot call a class as a function")}function n(e,o){for(var t=0;t<o.length;t++){var i=o[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function a(e,o,t){return o&&n(e.prototype,o),t&&n(e,t),e}var r=e("./1/ExamplesData"),c=e("./1/MatchvsEngine");cc.Class({extends:cc.Component,properties:{mainCamera:{type:cc.Camera,default:null},nodeBackUI:{type:cc.Node,default:null},nodeGameParent:{type:cc.Node,default:null},nodeMask:{type:cc.Node,default:null},nodeStartUI:{type:cc.Node,default:null},nodeBtn:{type:cc.Node,default:null},btnStartGame2:{type:cc.Button,default:null},btnStartGame3:{type:cc.Button,default:null},btnStartGame4:{type:cc.Button,default:null},btnStartGame5:{type:cc.Button,default:null},btnStartGameSingle:{type:cc.Button,default:null},btnReLogin:{type:cc.Button,default:null},nodeWaitUI:{type:cc.Node,default:null},nodeControl:{type:cc.Node,default:null},btnLoginOut:{type:cc.Button,default:null},labelGame:{type:cc.Label,default:null},labelTooClose:{type:cc.Label,default:null},nodeResult:{type:cc.Node,default:null},labelWinTips:{type:cc.Label,default:null},btnReturnLobby:{type:cc.Button,default:null},prefabPlayer:null,prefabWall:null,prefabWaitPlayer:null,prefabMachine:null,prefabArrow:null,nodeMainPlayer:null,arrWallNode:[],bCanMove:!1,fPerFrameSpeed:0,arrPlayerMoveStatus:[],resourceUtils:null,fSin45:.707,roomUserList:[],bGameStarted:!1,nUpdateCounts:0,arrPlayerInfo:[],nodeWaitPlayerArr:[],nodeMachineNodeArr:[],nodeArrowNodeArr:[],nStayInMachineTime:0,nMachineNum:0,nMonsterUserID:0,postionManArr:[],postionMachineArr:[]},ResetGameUI:function(){this.nMonsterUserID=0,this.nMachineNum=0,this.fPerFrameSpeed=0,this.nUpdateCounts=0,this.nStayInMachineTime=0,this.bGameStarted=!1,this.bCanMove=!1,this.nodeBtn.active=!1,this.btnReLogin.node.active=!1,this.nodeWaitUI.active=!1,this.nodeControl.active=!1,this.nodeResult.active=!1,this.arrPlayerMoveStatus=[],this.arrPlayerInfo=[],this.nodeWaitPlayerArr=[],i.GameDefine.bIAmMonster=!1,i.GameDefine.nMyPoint=0,i.GameDefine.nCatchedNum=0,i.GameDefine.objOtherPoint=[],i.GameDefine.nGameType=0,this.labelGame.string="",this.labelTooClose.node.active=!1,this.mainCamera.node.setPosition(cc.v2(0,0)),this.nodeMask.setPosition(cc.v2(0,0)),this.postionManArr=[cc.v2(335,740),cc.v2(1915,480),cc.v2(-655,925),cc.v2(960,1055),cc.v2(-1095,-785),cc.v2(-1910,-585),cc.v2(2025,-370),cc.v2(-1685,810)],this.postionMachineArr=[cc.v2(0,-1065),cc.v2(0,845),cc.v2(-1600,0),cc.v2(1645,0),cc.v2(0,0)]},onLoad:function(){var e=this,o=cc.director.getPhysicsManager();o.enabled=!0,o.gravity=cc.v2(0,0),this.resourceUtils=this.node.getComponent("ResourceUtils"),this.btnStartGame2.node.on("click",this.OnClickStartGame.bind(this,2),this),this.btnStartGame3.node.on("click",this.OnClickStartGame.bind(this,3),this),this.btnStartGame4.node.on("click",this.OnClickStartGame.bind(this,4),this),this.btnStartGame5.node.on("click",this.OnClickStartGame.bind(this,5),this),this.btnStartGameSingle.node.on("click",this.OnClickStartGameSingle,this),this.btnReLogin.node.on("click",this.OnClickRelogin,this),this.btnLoginOut.node.on("click",this.OnClickLoginOut,this),this.AddEventListener(),this.ResetGameUI(),this.GetResourceUtils().LoadPrefab("nodePlayer",function(o){e.prefabPlayer=o}),this.GetResourceUtils().LoadPrefab("nodeWall",function(o){e.prefabWall=o}),this.GetResourceUtils().LoadPrefab("nodeWaitPlayer",function(o){e.prefabWaitPlayer=o}),this.GetResourceUtils().LoadPrefab("nodeMachine",function(o){e.prefabMachine=o}),this.GetResourceUtils().LoadPrefab("nodeArrow",function(o){e.prefabArrow=o})},AddEventListener:function(){cc.systemEvent.on(CrtEventType.MainPlayerLoginSucc,this.OnLoginSuccess,this),cc.systemEvent.on(CrtEventType.MainPlayerLoginFail,this.OnLoginFail,this),cc.systemEvent.on(CrtEventType.MainPlayerSearchRoomResponse,this.OnSearchRoomResponse,this),cc.systemEvent.on(CrtEventType.MainPlayerJoinRoomResponse,this.OnJoinRoomResponse,this),cc.systemEvent.on(CrtEventType.GamePlayerAllotOver,this.OnGamePlayerAllotOver,this),cc.systemEvent.on(CrtEventType.GamePlayerUpdatePosition,this.OnOtherPlayerMove,this),cc.systemEvent.on(CrtEventType.PlayerCatchedNotify,this.OnOtherPlayerCatched,this),cc.systemEvent.on(CrtEventType.PlayerFixedNotify,this.OnOtherMachineFixed,this),cc.systemEvent.on(CrtEventType.PlayerLeaveRoomNotify,this.HandleOnePlayerLeave,this);var e=this.nodeControl.getChildByName("nodeUp"),o=this.nodeControl.getChildByName("nodeDown"),t=this.nodeControl.getChildByName("nodeLeft"),i=this.nodeControl.getChildByName("nodeRight");this.SetNodeControl(e,l.Status_UP),this.SetNodeControl(o,l.Status_DOWN),this.SetNodeControl(t,l.Status_LEFT),this.SetNodeControl(i,l.Status_RIGHT)},SetNodeControl:function(e,o){e.on(cc.Node.EventType.TOUCH_START,this.OnClickControlNode.bind(this,o),this),e.on(cc.Node.EventType.TOUCH_END,this.OnCancelClickControlNode.bind(this,o),this),e.on(cc.Node.EventType.TOUCH_CANCEL,this.OnCancelClickControlNode.bind(this,o),this)},ShowLabelGame:function(e,o){var t=this;this.labelGame.node.opacity=255,this.labelGame.string=e,cc.tween(this.labelGame.node).stop(),cc.tween(this.labelGame.node).to(4,{opacity:0}).call(function(){t.labelGame.string="",o&&o()}).start()},OnClickControlNode:function(e){this.SetMainPlayerMoveStatus(e)},OnCancelClickControlNode:function(e){this.CancelOneStatus(e)},OnLoginSuccess:function(){this.nodeBtn.active=!0,this.btnReLogin.node.active=!1},OnLoginFail:function(){this.nodeBtn.active=!1,this.btnReLogin.node.active=!0},OnSearchRoomResponse:function(e){var o=cc.instantiate(this.prefabWaitPlayer);this.nodeWaitUI.addChild(o),o.setPosition(-300,0);var t=o.getChildByName("labelID").getComponent(cc.Label),i=o.getChildByName("labelName").getComponent(cc.Label);t.string=r.userID,i.string=r.userName,this.nodeWaitPlayerArr.push(o);var s=new p(r.userID,r.userName);this.SavePushPlayerInfo(s),this.roomUserList=e.userInfoList,this.SetWaitingNodeShow()},OnJoinRoomResponse:function(e){var o=e.roomUserInfo;this.roomUserList.push(o),this.SetWaitingNodeShow()},SetWaitingNodeShow:function(){for(var e=0;e<this.roomUserList.length;e++){var o=this.roomUserList[e].userProfile.name,t=this.roomUserList[e].userID,i=new p(t,o);this.SavePushPlayerInfo(i);var s=cc.instantiate(this.prefabWaitPlayer);this.nodeWaitUI.addChild(s),this.nodeWaitPlayerArr.push(s),s.setPosition(150*e-150,0);var n=s.getChildByName("labelID").getComponent(cc.Label),a=s.getChildByName("labelName").getComponent(cc.Label);n.string=t,a.string=o}this.roomUserList&&this.roomUserList.length===r.maxNumber-1&&(this.RemoveWaitUI(),this.ResortArrPlayerInfo(),this.StartLoad())},RemoveWaitUI:function(){for(var e in this.nodeWaitPlayerArr)this.nodeWaitPlayerArr[e].removeFromParent(),this.nodeWaitPlayerArr[e].destroy();this.nodeWaitPlayerArr=[]},ResortArrPlayerInfo:function(){if(Array.isArray(this.arrPlayerInfo)){for(var e=this.arrPlayerInfo.length-1;e>0;e--)for(var o=0;o<e;o++)if(this.arrPlayerInfo[o].nPlayerUserID>this.arrPlayerInfo[o+1].nPlayerUserID){var t=[this.arrPlayerInfo[o+1],this.arrPlayerInfo[o]];this.arrPlayerInfo[o]=t[0],this.arrPlayerInfo[o+1]=t[1]}return this.arrPlayerInfo}},OnClickStartGame:function(e){r.maxNumber=e,this.nMachineNum=r.maxNumber,this.nMachineNum=this.nMachineNum>5?5:this.nMachineNum,i.GameDefine.nGameType=1,this.nodeStartUI.active=!1,this.nodeWaitUI.active=!0,cc.systemEvent.emit(CrtEventType.MainPlayerSearchRoom)},OnClickStartGameSingle:function(){this.nMachineNum=4,i.GameDefine.nGameType=0,i.GameDefine.bIAmMonster=!0,this.nodeStartUI.active=!1,this.nodeWaitUI.active=!1,this.arrPlayerInfo=[];for(var e=0;e<6;e++){var o=new p(i.GameDefine.GetRandNum(1,99999),i.GameDefine.GetRandNum(1,99999));this.SavePushPlayerInfo(o)}var t=new p(r.userID,r.userName);this.SavePushPlayerInfo(t),this.StartGame(),this.OnGamePlayerAllotOver(r.userID)},OnClickRelogin:function(){cc.systemEvent.emit(CrtEventType.MainPlayerReLogin)},HandleOnePlayerLeave:function(e){for(var o=0;o<this.roomUserList.length;o++){e==this.roomUserList[o].userID&&this.roomUserList.splice(o,1)}for(var t=0;t<this.arrPlayerInfo.length;t++){e==this.arrPlayerInfo[t].nPlayerUserID&&(this.arrPlayerInfo[t].playerNode&&(this.arrPlayerInfo[t].playerNode.removeFromParent(),this.arrPlayerInfo[t].playerNode.destroy()),this.arrPlayerInfo.splice(t,1))}this.roomUserList.length<=0&&this.OnClickLoginOut()},OnClickLoginOut:function(){1==i.GameDefine.nGameType&&c.prototype.leaveRoom(),this.RemoveRoomUI()},RemoveRoomUI:function(){for(var e in this.arrPlayerInfo){var o=this.arrPlayerInfo[e];o.playerNode&&(o.playerNode.removeFromParent(),o.playerNode.destroy())}for(var t in this.nodeMainPlayer=null,this.ResetGameUI(),this.arrWallNode)this.arrWallNode[t].active=!1;for(var i in this.nodeArrowNodeArr)this.nodeArrowNodeArr[i].active=!1;for(var s in this.nodeMachineNodeArr)this.nodeMachineNodeArr[s].active=!1;this.nodeBtn.active=!0,this.nodeStartUI.active=!0},OnOtherMachineFixed:function(e){var o=e[0],t=e[1],i=this.GetMachineNodeByID(o);i&&i.getComponent(MachineControl).SetProgress(t)},OnOtherPlayerCatched:function(e){var o=e[0];if(e[1]==r.maxNumber-1)this.ShowLabelGame("\u6e38\u620f\u7ed3\u675f!!!!!!",this.OnClickLoginOut.bind(this)),this.bGameStarted=!1;else if(o==r.userID)this.nodeMainPlayer.active=!1,this.ShowLabelGame("\u4f60\u88ab\u6293\u4e86,\u8bf7\u89c2\u6218\u4e00\u4f1a");else{var t=this.GetPlayerNodeByUserID(o);t&&(t.playerNode.active=!1,this.ShowLabelGame("\u73a9\u5bb6"+o+"\u88ab\u6293!"))}},OnOtherPlayerMove:function(e){var o=JSON.parse(e),t=o.nMyUserID,i=this.GetPlayerNodeByUserID(t);i&&(i.playerNode.x=o.posx,i.playerNode.y=o.posy)},StartLoad:function(){i.GameDefine.nMyPoint=(new Date).getTime(),i.GameDefine.nMyPoint=parseInt(i.GameDefine.nMyPoint)+i.GameDefine.GetRandNum(9e5,999999),cc.error("\u6211\u7684\u70b9\u6570\u662fnMyPoint= "+i.GameDefine.nMyPoint);var e={msgType:MsgType.msgPlayerPoint,nMyUserID:r.userID,nMyPoint:i.GameDefine.nMyPoint};c.prototype.sendEvent(JSON.stringify(e)),this.nodeWaitUI.active=!1,this.nodeStartUI.active=!1,this.StartGame()},StartGame:function(){this.CreateRandomWall(),this.CreateMachineArr(),this.CreatePlayerNode()},OnGamePlayerAllotOver:function(e){if(this.nMonsterUserID=e,i.GameDefine.bIAmMonster){for(var o in this.fPerFrameSpeed=i.GameDefine.nMonsterMoveSpeed/cc.game.getFrameRate(),this.arrPlayerInfo){var t=this.arrPlayerInfo[o],s=i.GameDefine.GetRandNum(0,this.postionManArr.length-1),n=this.postionManArr[s];t.playerNode.setPosition(n),t.playerNode.getChildByName("labelName").getComponent(cc.Label).string="\u730e\u7269",this.postionManArr.splice(s,1)}this.nodeMainPlayer.getChildByName("labelName").getComponent(cc.Label).string="\u730e\u4eba",this.ShowLabelGame("\u8bf7\u5bfb\u627e\u8eb2\u8d77\u6765\u7684\u730e\u7269!")}else{for(var a in this.fPerFrameSpeed=i.GameDefine.nManMoveSpeed/cc.game.getFrameRate(),this.arrPlayerInfo){var r=this.arrPlayerInfo[a],c=i.GameDefine.GetRandNum(0,this.postionManArr.length-1),l=this.postionManArr[c];r.playerNode.setPosition(l),r.playerNode.getChildByName("labelName").getComponent(cc.Label).string="\u730e\u7269",this.postionManArr.splice(c,1)}this.GetPlayerNodeByUserID(e).playerNode.getChildByName("labelName").getComponent(cc.Label).string="\u730e\u4eba",this.ShowLabelGame("\u730e\u4eba\u6765\u4e86,\u7834\u574f"+(this.nMachineNum-1)+"\u4e2a\u7535\u673a\u9003\u8131!")}this.AddControlFunc(),this.bGameStarted=!0},CreatePlayerNode:function(){for(var e in this.arrPlayerInfo){var o=this.arrPlayerInfo[e],t=cc.instantiate(this.prefabPlayer);this.nodeGameParent.addChild(t),o.SetPlayerNode(t),o.nPlayerUserID==r.userID&&(this.nodeMainPlayer=t)}},CreateMachineArr:function(){if(this.nodeMachineNodeArr.length>0)for(var e=0;e<this.nMachineNum;e++)this.nodeMachineNodeArr[e].active=!0,this.nodeArrowNodeArr[e].active=!0;else{for(var o=0;o<4;o++){var t=cc.instantiate(this.prefabMachine);this.nodeMachineNodeArr.push(t),this.nodeGameParent.addChild(t),t.active=!1;var i=cc.instantiate(this.prefabArrow);this.nodeArrowNodeArr.push(i),i.active=!1,this.nodeGameParent.addChild(i,99),t.setPosition(this.postionMachineArr[o]),t.getComponent(MachineControl).SetMachineID(o),t.getComponent(MachineControl).SetProgress(0)}if(this.nodeMachineNodeArr.length>0)for(var s=0;s<this.nMachineNum;s++)this.nodeMachineNodeArr[s].active=!0,this.nodeArrowNodeArr[s].active=!0;else;}},CreateRandomWall:function(){if(this.arrWallNode.length>0)for(var e in this.arrWallNode)this.arrWallNode[e].active=!0;else for(var o=0;o<mapWallData.length;o++){var t=cc.instantiate(this.prefabWall),i=mapWallData[o],s=i.positionx,n=i.positiony,a=i.scalex,r=i.scaley;t.setPosition(s,n),t.setScale(a,r),this.arrWallNode.push(t),this.nodeGameParent.addChild(t)}},AddControlFunc:function(){this.nodeControl.active=!0,cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.OnKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.OnKeyUp,this)},OnKeyDown:function(e){switch(e.keyCode){case cc.macro.KEY.w:this.SetMainPlayerMoveStatus(l.Status_UP);break;case cc.macro.KEY.a:this.SetMainPlayerMoveStatus(l.Status_LEFT);break;case cc.macro.KEY.s:this.SetMainPlayerMoveStatus(l.Status_DOWN);break;case cc.macro.KEY.d:this.SetMainPlayerMoveStatus(l.Status_RIGHT)}},OnKeyUp:function(e){switch(e.keyCode){case cc.macro.KEY.w:this.CancelOneStatus(l.Status_UP);break;case cc.macro.KEY.a:this.CancelOneStatus(l.Status_LEFT);break;case cc.macro.KEY.s:this.CancelOneStatus(l.Status_DOWN);break;case cc.macro.KEY.d:this.CancelOneStatus(l.Status_RIGHT)}},SetMainPlayerMoveStatus:function(e){-1==this.arrPlayerMoveStatus.indexOf(e)&&(this.bCanMove=!0,this.arrPlayerMoveStatus.push(e))},CancelOneStatus:function(e){if(-1!=this.arrPlayerMoveStatus.indexOf(e)){var o=this.arrPlayerMoveStatus.indexOf(e);this.arrPlayerMoveStatus.splice(o,1)}this.arrPlayerMoveStatus.length<=0&&(this.bCanMove=!1,this.arrPlayerMoveStatus=[])},update:function(e){if(this.nUpdateCounts++,this.bGameStarted&&this.bCanMove&&this.arrPlayerMoveStatus.length>0)switch(this.arrPlayerMoveStatus[this.arrPlayerMoveStatus.length-1]){case l.Status_UP:this.nodeMainPlayer.y+=this.fPerFrameSpeed;break;case l.Status_DOWN:this.nodeMainPlayer.y-=this.fPerFrameSpeed;break;case l.Status_LEFT:this.nodeMainPlayer.x-=this.fPerFrameSpeed;break;case l.Status_RIGHT:this.nodeMainPlayer.x+=this.fPerFrameSpeed;break;case l.Status_UP_LEFT:this.nodeMainPlayer.y+=this.fPerFrameSpeed*this.fSin45,this.nodeMainPlayer.x-=this.fPerFrameSpeed*this.fSin45;break;case l.Status_UP_RIGHT:this.nodeMainPlayer.y+=this.fPerFrameSpeed*this.fSin45,this.nodeMainPlayer.x+=this.fPerFrameSpeed*this.fSin45;break;case l.Status_DOWN_LEFT:this.nodeMainPlayer.y-=this.fPerFrameSpeed*this.fSin45,this.nodeMainPlayer.x-=this.fPerFrameSpeed*this.fSin45;break;case l.Status_DOWN_RIGHT:this.nodeMainPlayer.y-=this.fPerFrameSpeed*this.fSin45,this.nodeMainPlayer.x+=this.fPerFrameSpeed*this.fSin45}if(this.UpdateCameraPosition(),this.bGameStarted){if(this.nUpdateCounts%2==0){var o={msgType:MsgType.msgPlayerMove,nMyUserID:r.userID,posx:this.nodeMainPlayer.getPosition().x,posy:this.nodeMainPlayer.getPosition().y};c.prototype.sendEvent(JSON.stringify(o))}this.CheckIsCatched(),this.CheckIsFixMachine()}},UpdateCameraPosition:function(){1===this.nodeBackUI.scaleX&&this.nodeMainPlayer&&(this.mainCamera.node.setPosition(this.nodeMainPlayer.getPosition()),this.nodeMask.setPosition(this.nodeMainPlayer.getPosition()))},CheckIsCatched:function(){if(i.GameDefine.bIAmMonster){var e=this.nodeMainPlayer.getPosition();for(var o in this.arrPlayerInfo)if(this.arrPlayerInfo[o].playerNode.active){var t=this.arrPlayerInfo[o].playerNode.getPosition();if(t.x==e.x&&t.y==e.y)continue;if(e.sub(t).mag()<=80){var s=this.arrPlayerInfo[o].nPlayerUserID;this.arrPlayerInfo[o].playerNode.active=!1,i.GameDefine.nCatchedNum++;var n={msgType:MsgType.msgPlayerCatched,catched:!0,catchedID:s,nCatchedNum:i.GameDefine.nCatchedNum};c.prototype.sendEvent(JSON.stringify(n)),i.GameDefine.nCatchedNum==r.maxNumber-1&&(this.ShowLabelGame("\u6e38\u620f\u7ed3\u675f!!!!!!",this.OnClickLoginOut.bind(this)),this.bGameStarted=!1)}}}else{var a=this.nodeMainPlayer.getPosition(),l=this.GetPlayerNodeByUserID(this.nMonsterUserID).playerNode.getPosition(),p=a.sub(l).mag();this.labelTooClose.node.active=p<=600}},CheckIsFixMachine:function(){var e=this.nodeMainPlayer.getPosition();if(!i.GameDefine.bIAmMonster)for(var o in this.nodeMachineNodeArr){var t=this.nodeMachineNodeArr[o],s=t.getComponent(MachineControl).GetProgress();if(s<100&&t.active){var n=t.getPosition();if(e.sub(n).mag()<=140){var a=t.getComponent(MachineControl).GetMachineID();if(this.nStayInMachineTime++,this.nStayInMachineTime%20==0){s++,t.getComponent(MachineControl).SetProgress(s);var r={msgType:MsgType.msgPlayerFixMachine,nMachineID:a,nCurrentProgress:s};c.prototype.sendEvent(JSON.stringify(r))}}}}for(var l=0,p=0;p<this.nodeMachineNodeArr.length;p++){var y=this.nodeMachineNodeArr[p];if(y.active){var h=y.getPosition();if(e.sub(h).mag()>300){this.nodeArrowNodeArr[p].active=!0;var f=h.sub(e);f.x=f.x/15+e.x,f.y=f.y/15+e.y,this.nodeArrowNodeArr[p].setPosition(f)}else this.nodeArrowNodeArr[p].active=!1;y.getComponent(MachineControl).GetProgress()>=100&&l++}}l==this.nMachineNum-1&&(i.GameDefine.bIAmMonster?this.ShowLabelGame("\u730e\u7269\u9003\u8131!\u4f60\u8f93\u4e86",this.OnClickLoginOut.bind(this)):this.ShowLabelGame("\u730e\u7269\u9003\u8131!\u4f60\u8d62\u4e86",this.OnClickLoginOut.bind(this)),this.bGameStarted=!1)},GetResourceUtils:function(){return this.resourceUtils},SavePushPlayerInfo:function(e){if(this.arrPlayerInfo.length>0)for(var o in this.arrPlayerInfo)if(e.nPlayerUserID==this.arrPlayerInfo[o].nPlayerUserID)return void cc.error("\u8fd9\u4e2a\u73a9\u5bb6\u5df2\u7ecf\u8fdb\u5165\u623f\u95f4");this.arrPlayerInfo.push(e)},GetPlayerNodeByUserID:function(e){for(var o in this.arrPlayerInfo){var t=this.arrPlayerInfo[o];if(e==t.nPlayerUserID)return t}return cc.error("GetPlayerNodeByUserID Err== nUserID="+e,"  this.arrPlayerInfo.length="+this.arrPlayerInfo.length),null},GetMachineNodeByID:function(e){for(var o in this.nodeMachineNodeArr){var t=this.nodeMachineNodeArr[o];if(t.getComponent(MachineControl).GetMachineID()==e)return t}return cc.error("GetMachineNodeByID Err== nID="+e,"  this.nodeMachineNodeArr.length="+this.nodeMachineNodeArr.length),null},onDestroy:function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.OnKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.OnKeyUp,this),cc.systemEvent.off(CrtEventType.MainPlayerLoginSucc,this.OnLoginSuccess,this),cc.systemEvent.off(CrtEventType.MainPlayerLoginFail,this.OnLoginFail,this),cc.systemEvent.off(CrtEventType.MainPlayerSearchRoomResponse,this.OnSearchRoomResponse,this),cc.systemEvent.off(CrtEventType.MainPlayerJoinRoomResponse,this.OnJoinRoomResponse,this),cc.systemEvent.off(CrtEventType.GamePlayerAllotOver,this.OnGamePlayerAllotOver,this),cc.systemEvent.off(CrtEventType.GamePlayerUpdatePosition,this.OnOtherPlayerMove,this),cc.systemEvent.off(CrtEventType.PlayerLeaveRoomNotify,this.HandleOnePlayerLeave,this),cc.systemEvent.off(CrtEventType.PlayerCatchedNotify,this.OnOtherPlayerCatched,this),cc.systemEvent.off(CrtEventType.PlayerFixedNotify,this.OnOtherMachineFixed,this),this.GetResourceUtils().ReleasePrefab("nodePlayer"),this.GetResourceUtils().ReleasePrefab("nodeWall")}});var l={Status_UP:1,Status_DOWN:2,Status_LEFT:3,Status_RIGHT:4,Status_UP_LEFT:5,Status_UP_RIGHT:6,Status_DOWN_LEFT:7,Status_DOWN_RIGHT:8},p=function(){function e(o,t){s(this,e),this.playerNode=null,this.nPlayerUserID=-1,this.strPlayerName="",this.nPlayerUserID=o,this.strPlayerName=t}return a(e,[{key:"SetPlayerNode",value:function(e){this.playerNode=e}}]),e}();cc._RF.pop()},{"./1/ExamplesData":"ExamplesData","./1/MatchvsEngine":"MatchvsEngine","./GameUtils/GameDefine":"GameDefine"}],use_reversed_rotateBy:[function(e,o,t){"use strict";cc._RF.push(o,"08bdbVhhpJOvIGkeAi79JCy","use_reversed_rotateBy"),cc.RotateBy._reverse=!0,cc._RF.pop()},{}],"use_v2.1-2.2.1_cc.Toggle_event":[function(e,o,t){"use strict";cc._RF.push(o,"82a94UIOCVOvqL4N1igh3zc","use_v2.1-2.2.1_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_isChecked=!0),cc._RF.pop()},{}]},{},["use_reversed_rotateBy","use_v2.1-2.2.1_cc.Toggle_event","ExamplesData","Matchvs","MatchvsEngine","MatchvsResponse","MatvhsvsMessage","GameDefine","MapWallData","ResourceUtils","MachineControl","MultiControl","StartGame"]);